/*! @preserve
 * bootbox.js
 * version: 6.0.0
 * author: Nick Payne <nick@kurai.co.uk>
 * license: MIT
 * http://bootboxjs.com/
 */
(function(n,t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):n.bootbox=t(n.jQuery)})(this,function init(n,t){"use strict";function v(n,t){let r=n.length,i={};if(r<1||r>2)throw new Error("Invalid argument length");return r===2||typeof n[0]=="string"?(i[t[0]]=n[0],i[t[1]]=n[1]):i=n[0],i}function y(t,i,r){return n.extend(!0,{},t,v(i,r))}function o(n,t,i,r){let u;if(r&&r[0]){u=r[0].locale||f.locale;let n=r[0].swapButtonOrder||f.swapButtonOrder;n&&(t=t.reverse())}let e={className:"bootbox-"+n,buttons:w(t,u)};return p(y(e,r,i),t)}function p(n,i){let r={};return u(i,function(n,t){r[t]=!0}),u(n.buttons,function(n){if(r[n]===t)throw new Error('button key "'+n+'" is not allowed (options are '+i.join(" ")+")");}),n}function w(n,t){let i={};for(let r=0,u=n.length;r<u;r++){let u=n[r],f=u.toLowerCase(),e=u.toUpperCase();i[f]={label:b(e,t)}}return i}function b(n,t){let i=e[t];return i?i[n]:e.en[n]}function k(t){let i,r;if(typeof t!="object")throw new Error("Please supply an object of options");if(!t.message)throw new Error('"message" option must not be null or an empty string.');return t=n.extend({},f,t),t.backdrop=t.backdrop?typeof t.backdrop=="string"&&t.backdrop.toLowerCase()==="static"?"static":!0:t.backdrop===!1||t.backdrop===0?!1:"static",t.buttons||(t.buttons={}),i=t.buttons,r=h(i),u(i,function(u,f,e){if(n.isFunction(f)&&(f=i[u]={callback:f}),n.type(f)!=="object")throw new Error('button with key "'+u+'" must be an object');if(f.label||(f.label=u),!f.className){let n=!1;n=t.swapButtonOrder?e===0:e===r-1;f.className=r<=2&&n?"btn-primary":"btn-secondary btn-default"}}),t}function h(n){return Object.keys(n).length}function u(t,i){let r=0;n.each(t,function(n,t){i(n,t,r++)})}function c(n){n.data.dialog.find(".bootbox-accept").first().trigger("focus")}function d(n){n.target===n.data.dialog[0]&&n.data.dialog.remove()}function g(n){n.target===n.data.dialog[0]&&(n.data.dialog.off("escape.close.bb"),n.data.dialog.off("click"))}function s(t,i,r){t.stopPropagation();t.preventDefault();let u=n.isFunction(r)&&r.call(i,t)===!1;u||i.modal("hide")}function nt(n,i,r){let e=!1,u=!0,f=!0;if(n==="date")i===t||(u=a(i))?r===t||(f=a(r))||console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your max value may not be enforced by this browser.'):console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your min value may not be enforced by this browser.');else if(n==="time")if(i===t||(u=l(i))){if(r!==t&&!(f=l(r)))throw new Error('"max" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');}else throw new Error('"min" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');else{if(i!==t&&isNaN(i)){u=!1;throw new Error('"min" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-min for more information.');}if(r!==t&&isNaN(r)){f=!1;throw new Error('"max" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');}}if(u&&f)if(r<=i)throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');else e=!0;return e}function l(n){return/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(n)}function a(n){return/(\d{4})-(\d{2})-(\d{2})/.test(n)}let i={};i.VERSION="6.0.0";let e={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"}},r={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"><\/div><\/div><\/div><\/div><\/div>',header:'<div class="modal-header"><h5 class="modal-title"><\/h5><\/div>',footer:'<div class="modal-footer"><\/div>',closeButton:'<button type="button" class="bootbox-close-button close btn-close" aria-hidden="true" aria-label="Close"><\/button>',form:'<form class="bootbox-form"><\/form>',button:'<button type="button" class="btn"><\/button>',option:'<option value=""><\/option>',promptMessage:'<div class="bootbox-prompt-message"><\/div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"><\/textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-select"><\/select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /><\/label><\/div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /><\/label><\/div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",value:"",inputType:"text",errorMessage:null,swapButtonOrder:!1,centerVertical:!1,multiple:!1,scrollable:!1,reusable:!1,relatedTarget:null,size:null,id:null};return i.locales=function(n){return n?e[n]:e},i.addLocale=function(t,r){return n.each(["OK","CANCEL","CONFIRM"],function(n,t){if(!r[t])throw new Error('Please supply a translation for "'+t+'"');}),e[t]={OK:r.OK,CANCEL:r.CANCEL,CONFIRM:r.CONFIRM},i},i.removeLocale=function(n){if(n!=="en")delete e[n];else throw new Error('"en" is used as the default and fallback locale and cannot be removed.');return i},i.setLocale=function(n){return i.setDefaults("locale",n)},i.setDefaults=function(){let t={};return arguments.length===2?t[arguments[0]]=arguments[1]:t=arguments[0],n.extend(f,t),i},i.hideAll=function(){return n(".bootbox").modal("hide"),i},i.init=function(t){return init(t||n)},i.dialog=function(i){if(n.fn.modal===t)throw new Error('"$.fn.modal" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.1/getting-started/introduction/ for more details.');if(i=k(i),n.fn.modal.Constructor.VERSION){i.fullBootstrapVersion=n.fn.modal.Constructor.VERSION;let t=i.fullBootstrapVersion.indexOf(".");i.bootstrap=i.fullBootstrapVersion.substring(0,t)}else i.bootstrap="2",i.fullBootstrapVersion="2.3.2",console.warn("Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible.");let f=n(r.dialog),e=f.find(".modal-dialog"),a=f.find(".modal-body"),o=n(r.header),v=n(r.footer),y=i.buttons,l={onEscape:i.onEscape};if(a.find(".bootbox-body").html(i.message),h(i.buttons)>0&&(u(y,function(t,i){let u=n(r.button);u.data("bb-handler",t);u.addClass(i.className);switch(t){case"ok":case"confirm":u.addClass("bootbox-accept");break;case"cancel":u.addClass("bootbox-cancel")}u.html(i.label);i.id&&u.attr({id:i.id});i.disabled===!0&&u.prop({disabled:!0});v.append(u);l[t]=i.callback}),a.after(v)),i.animate===!0&&f.addClass("fade"),i.className&&f.addClass(i.className),i.id&&f.attr({id:i.id}),i.size){i.fullBootstrapVersion.substring(0,3)<"3.1"&&console.warn('"size" requires Bootstrap 3.1.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.");switch(i.size){case"small":case"sm":e.addClass("modal-sm");break;case"large":case"lg":e.addClass("modal-lg");break;case"extra-large":case"xl":e.addClass("modal-xl");i.fullBootstrapVersion.substring(0,3)<"4.2"&&console.warn('Using size "xl"/"extra-large" requires Bootstrap 4.2.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")}}if(i.scrollable&&(e.addClass("modal-dialog-scrollable"),i.fullBootstrapVersion.substring(0,3)<"4.3"&&console.warn('Using "scrollable" requires Bootstrap 4.3.0 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")),i.title||i.closeButton){if(i.title?o.find(".modal-title").html(i.title):o.addClass("border-0"),i.closeButton){let t=n(r.closeButton);i.bootstrap<5&&t.html("&times;");i.bootstrap<4?o.prepend(t):o.append(t)}a.before(o)}if(i.centerVertical&&(e.addClass("modal-dialog-centered"),i.fullBootstrapVersion<"4.0.0"&&console.warn('"centerVertical" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using '+i.fullBootstrapVersion+". Please upgrade to use this option.")),!i.reusable){f.one("hide.bs.modal",{dialog:f},g);f.one("hidden.bs.modal",{dialog:f},d)}if(i.onHide)if(n.isFunction(i.onHide))f.on("hide.bs.modal",i.onHide);else throw new Error('Argument supplied to "onHide" must be a function');if(i.onHidden)if(n.isFunction(i.onHidden))f.on("hidden.bs.modal",i.onHidden);else throw new Error('Argument supplied to "onHidden" must be a function');if(i.onShow)if(n.isFunction(i.onShow))f.on("show.bs.modal",i.onShow);else throw new Error('Argument supplied to "onShow" must be a function');f.one("shown.bs.modal",{dialog:f},c);if(i.onShown)if(n.isFunction(i.onShown))f.on("shown.bs.modal",i.onShown);else throw new Error('Argument supplied to "onShown" must be a function');if(i.backdrop===!0){let n=!1;f.on("mousedown",".modal-content",function(t){t.stopPropagation();n=!0});f.on("click.dismiss.bs.modal",function(t){n||t.target!==t.currentTarget||f.trigger("escape.close.bb")})}f.on("escape.close.bb",function(n){l.onEscape&&s(n,f,l.onEscape)});f.on("click",".modal-footer button:not(.disabled)",function(i){let r=n(this).data("bb-handler");r!==t&&s(i,f,l[r])});f.on("click",".bootbox-close-button",function(n){s(n,f,l.onEscape)});f.on("keyup",function(n){n.which===27&&f.trigger("escape.close.bb")});return n(i.container).append(f),f.modal({backdrop:i.backdrop,keyboard:!1,show:!1}),i.show&&f.modal("show",i.relatedTarget),f},i.alert=function(){let t;if(t=o("alert",["ok"],["message","callback"],arguments),t.callback&&!n.isFunction(t.callback))throw new Error('alert requires the "callback" property to be a function when provided');return t.buttons.ok.callback=t.onEscape=function(){return n.isFunction(t.callback)?t.callback.call(this):!0},i.dialog(t)},i.confirm=function(){let t;if(t=o("confirm",["cancel","confirm"],["message","callback"],arguments),!n.isFunction(t.callback))throw new Error("confirm requires a callback");return t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},i.dialog(t)},i.prompt=function(){let e,l,a,s,v,h;if(a=n(r.form),e=o("prompt",["cancel","confirm"],["title","callback"],arguments),e.value||(e.value=f.value),e.inputType||(e.inputType=f.inputType),v=e.show===t?f.show:e.show,e.show=!1,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){let t;if(e.inputType==="checkbox")t=s.find("input:checked").map(function(){return n(this).val()}).get();else if(e.inputType==="radio")t=s.find("input:checked").val();else{let i=s[0];if(e.errorMessage&&i.setCustomValidity(""),i.checkValidity&&!i.checkValidity())return e.errorMessage&&i.setCustomValidity(e.errorMessage),i.reportValidity&&i.reportValidity(),!1;t=e.inputType==="select"&&e.multiple===!0?s.find("option:selected").map(function(){return n(this).val()}).get():s.val()}return e.callback.call(this,t)},!e.title)throw new Error("prompt requires a title");if(!n.isFunction(e.callback))throw new Error("prompt requires a callback");if(!r.inputs[e.inputType])throw new Error("Invalid prompt type");s=n(r.inputs[e.inputType]);switch(e.inputType){case"text":case"textarea":case"email":case"password":s.val(e.value);e.placeholder&&s.attr("placeholder",e.placeholder);e.pattern&&s.attr("pattern",e.pattern);e.maxlength&&s.attr("maxlength",e.maxlength);e.required&&s.prop({required:!0});e.rows&&!isNaN(parseInt(e.rows))&&e.inputType==="textarea"&&s.attr({rows:e.rows});break;case"date":case"time":case"number":case"range":if(s.val(e.value),e.placeholder&&s.attr("placeholder",e.placeholder),e.pattern?s.attr("pattern",e.pattern):e.inputType==="date"?s.attr("pattern","d{4}-d{2}-d{2}"):e.inputType==="time"&&s.attr("pattern","d{2}:d{2}"),e.required&&s.prop({required:!0}),e.inputType!=="date"&&e.step)if(e.step==="any"||!isNaN(e.step)&&parseFloat(e.step)>0)s.attr("step",e.step);else throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');nt(e.inputType,e.min,e.max)&&(e.min!==t&&s.attr("min",e.min),e.max!==t&&s.attr("max",e.max));break;case"select":let i={};if(h=e.inputOptions||[],!n.isArray(h))throw new Error("Please pass an array of input options");if(!h.length)throw new Error('prompt with "inputType" set to "select" requires at least one option');e.required&&s.prop({required:!0});e.multiple&&s.prop({multiple:!0});u(h,function(u,f){let e=s;if(f.value===t||f.text===t)throw new Error('each option needs a "value" property and a "text" property');f.group&&(i[f.group]||(i[f.group]=n("<optgroup />").attr("label",f.group)),e=i[f.group]);let o=n(r.option);o.attr("value",f.value).text(f.text);e.append(o)});u(i,function(n,t){s.append(t)});s.val(e.value);e.bootstrap<5&&s.removeClass("form-select").addClass("form-control");break;case"checkbox":let o=n.isArray(e.value)?e.value:[e.value];if(h=e.inputOptions||[],!h.length)throw new Error('prompt with "inputType" set to "checkbox" requires at least one option');s=n('<div class="bootbox-checkbox-list"><\/div>');u(h,function(i,f){if(f.value===t||f.text===t)throw new Error('each option needs a "value" property and a "text" property');let h=n(r.inputs[e.inputType]);h.find("input").attr("value",f.value);h.find("label").append("\n"+f.text);u(o,function(n,t){t===f.value&&h.find("input").prop("checked",!0)});s.append(h)});break;case"radio":if(e.value!==t&&n.isArray(e.value))throw new Error('prompt with "inputType" set to "radio" requires a single, non-array value for "value"');if(h=e.inputOptions||[],!h.length)throw new Error('prompt with "inputType" set to "radio" requires at least one option');s=n('<div class="bootbox-radiobutton-list"><\/div>');let f=!0;u(h,function(i,u){if(u.value===t||u.text===t)throw new Error('each option needs a "value" property and a "text" property');let o=n(r.inputs[e.inputType]);o.find("input").attr("value",u.value);o.find("label").append("\n"+u.text);e.value!==t&&u.value===e.value&&(o.find("input").prop("checked",!0),f=!1);s.append(o)});f&&s.find('input[type="radio"]').first().prop("checked",!0)}a.append(s);a.on("submit",function(n){n.preventDefault();n.stopPropagation();l.find(".bootbox-accept").trigger("click")});if(n.trim(e.message)!==""){let t=n(r.promptMessage).html(e.message);a.prepend(t);e.message=a}else e.message=a;l=i.dialog(e);l.off("shown.bs.modal",c);l.on("shown.bs.modal",function(){s.focus()});return v===!0&&l.modal("show"),l},i});